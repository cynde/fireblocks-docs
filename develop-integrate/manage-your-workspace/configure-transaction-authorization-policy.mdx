---
title: "Configure Transaction Authorization Policy"
---

JUMP TO

## Introduction

*   [API Overview](/reference/api-overview)
*   [REST API Guide](/reference/rest-api-guide-1)
*   [Authenticate](/reference/signing-a-request-jwt-structure)
*   [API Idempotency](/reference/api-idempotency)
*   [Rate Limiting](/reference/rate-limiting)
*   [Transaction Sources & Destinations](/reference/transaction-sources-destinations)

## Errors & Data Objects

*   [API Responses and Error Codes](/reference/api-error-codes)
*   [Transaction Statuses](/reference/statuses)
    *   [Statuses](/reference/statuses)
    *   [Sub-Statuses](/reference/sub-statuses)
*   [Data Objects](/reference/data-objects)
    *   [Vault Objects](/reference/vault-objects)
    *   [Exchange Account Objects](/reference/exchange-objects)
    *   [Fiat Account Objects](/reference/fiat-account-objects)
    *   [Network Connection Objects](/reference/network-objects)
    *   [Internal/External Wallet Objects](/reference/internalexternal-wallet-objects)
    *   [Contract Objects](/reference/contract-objects)
    *   [Blockchain & Asset Objects](/reference/supported-assets-object)
    *   [Transaction Objects](/reference/transaction-objects)
    *   [Transaction Authorization Objects](/reference/transaction-authorization-objects)
    *   [Fee Estimation Objects](/reference/fee-estimation-objects)
    *   [Transaction Screening Objects](/reference/transaction-screening-objects)
    *   [Raw Signing Objects](/reference/raw-signing-objects)
    *   [Payments Objects](/reference/payments-objects)
    *   [Gas Station Objects](/reference/gas-station-objects)
    *   [User Object](/reference/user-object)
    *   [Webhook Object](/reference/webhook-object)
    *   [NFT Objects](/reference/nft-objects)
    *   [Web3 Connection Objects](/reference/web3-connection-objects)
    *   [General Objects](/reference/general-objects)
*   [Webhooks Data Objects](/reference/webhooks-notifications-1)
    *   [Vault Webhooks](/reference/vault-webhooks)
    *   [Exchange & Fiat Account Webhooks](/reference/exchange-fiat-account-webhooks)
    *   [Network Connection Webhooks](/reference/network-connection-webhooks)
    *   [Smart Transfer Webhooks](/reference/smart-transfer-webhooks)
    *   [Internal, External & Contract Wallet Webhooks](/reference/internal-external-contract-wallet-webhooks)
    *   [Transaction Webhooks](/reference/transaction-webhooks)
    *   [NFT Webhooks](/reference/nft-webhooks)
*   [Handle API Errors](/reference/handling-api-errors)

## SDKs & Dev Tools

*   [Postman Guide](/reference/explore-postman-collection)
*   [TypeScript SDK](/reference/typescript-sdk)
*   [Python SDK](/reference/new-python-sdk)
*   [Java SDK](/reference/java-sdk)
*   [JS SDK (Legacy)](/reference/js-sdk-legacy)
*   [Python SDK (Legacy)](/reference/python-sdk)
*   [EVM Web3 Provider](/reference/evm-web3-provider)
*   [EVM Local JSON RPC](/reference/evm-local-json-rpc)
*   [Hardhat Plugin](/reference/hardhat-plugin)
*   [Solana Web3 Adapter](/reference/solana-web3-adapter)

## Manage Your Workspace

*   [Create API Keys](/reference/create-api-keys)
*   [Configure Transaction Authorization Policy](/reference/configure-transaction-authorization-policy)

## Manage Wallets

*   [Create Vault Accounts](/reference/create-vault-account)
*   [Create Vault Wallets](/reference/create-vault-wallet)
*   [Create Omnibus Structure](/reference/create-omnibus-structure)

## Manage Transactions

*   [Create Transactions](/reference/create-transactions)
*   [Boost Transactions](/reference/boost-transactions)
*   [Sweep to Omnibus](/reference/sweep-to-omnibus-1)
*   [Select UTXOs](/reference/select-utxos-for-a-transaction)
*   [Consolidate UTXOs](/reference/consolidate-utxos)
*   [Monitoring Transaction Statuses](/reference/monitoring-transaction-status)

## Manage Transaction Fees

*   [Configure Gas Station](/reference/enable-auto-fueling)
    *   [Enable Auto Fueling](/reference/enable-auto-fueling)
    *   [Set the Gas Station values](/reference/set-the-gas-station-values)
    *   [Fund the Gas Station](/reference/fund-the-gas-station)
    *   [Monitor the Gas Station](/reference/monitor-the-gas-station)
*   [Estimate Transaction Fee](/reference/estimate-transaction-fee)

## Manage Treasury

*   [Execute Smart Transfers](/reference/execute-smart-transfers-1)
*   [Stake Assets](/reference/overview-2)
    *   [Overview](/reference/overview-2)
    *   [Create a Staking Position](/reference/create-stake)
    *   [Unstake & Withdraw](/reference/withdraw-staked-assets)
*   [Connect to Exchanges & FIAT Providers](/reference/connect-to-exchanges-fiat-providers)

## Comply with regulation

*   [Validate Travel Rule](/reference/validate-travel-rule)

## Manage Smart Contracts

*   [Upload Contract Template](/reference/upload-contract-template)

## Manage Assets

*   [Get Supported Assets](/reference/list-supported-assets)
*   [Add Tokens](/reference/add-your-tokens)
*   [Manage NFTs](/reference/deploy-an-nft-collection)
    *   [Deploy an NFT Collection](/reference/deploy-an-nft-collection)
    *   [Mint an NFT](/reference/mint-an-nft)
    *   [Retrieve NFTs](/reference/retrieve-nfts)
    *   [Transfer NFTs](/reference/transfer-nfts)

## SIGN OFFChain MESSAGES

*   [Typed Message Signing](/reference/structuring-the-api-call)
    *   [Structure the API Call](/reference/structuring-the-api-call)
    *   [Sign Typed Messages in Ethereum](/reference/sign-typed-messages-for-ethereum-and-evm-networks)
    *   [Sign Typed Messages in Tron](/reference/signing-typed-messages-in-tron)
    *   [Sign Typed Messages in Bitcoin](/reference/signing-typed-messages-in-bitcoin)
*   [RAW Signing](/reference/structuring-the-api-call-1)
    *   [Structure the API Call](/reference/structuring-the-api-call-1)
    *   [Code Examples](/reference/code-examples-2)
*   [Caching Signatures](/reference/caching-signatures)

## Automate Your Flows

*   [Set API Co-Signer Callback Handler](/reference/authenticate)
    *   [Authenticate](/reference/authenticate)
    *   [Response Object](/reference/response-object)
    *   [Approve Transactions](/reference/approve-transactions)
    *   [Approve Configuration Changes](/reference/approve-configuration-changes)
    *   [Code Examples](/reference/basic-code-example)
        *   [Basic Code Example](/reference/basic-code-example)
        *   [Use the Plugin Based Callback Handler](/reference/plugin-based-callback-handler)
        *   [Validate ETH Raw Transactions](/reference/validate-eth-raw-transactions)
*   [Consume Webhooks](/reference/configure-webhook-urls)
    *   [Configure Webhook URLs](/reference/configure-webhook-urls)
    *   [Validate Requests](/reference/verify-requests)
    *   [Resend Webhook Notifications](/reference/resend-webhook-notifications)
    *   [Code Examples](/reference/code-examples-1)
    *   [Understand Webhook Data Objects](/reference/get-to-know-webhook-data-objects)

## Create Payments

*   [Execute Payouts](/reference/executing-payouts)
*   [Create Payment Flows](/reference/create-workflows)
    *   [Workflow Data Objects](/reference/workflow-data-objects-1)
    *   [Create Workflow Configuration](/reference/create-workflow-configuration)
    *   [Create Workflow Execution](/reference/create-workflow-execution)
    *   [Launch Workflow Execution](/reference/launch-workflow-execution)

## Fireblocks API

*   [Workspace Management](/reference/freezeworkspace)
    *   [Freezepost](/reference/freezeworkspace)
    *   [List user groupsget](/reference/getusergroups)
    *   [Create user grouppost](/reference/createusergroup)
    *   [Get user groupget](/reference/getusergroup)
    *   [Update user groupput](/reference/updateusergroup)
    *   [Delete user groupdelete](/reference/deleteusergroup)
    *   [List usersget](/reference/getusers)
    *   [Get audit logsget](/reference/getaudits)
    *   [Get audit logsget](/reference/getauditlogs)
    *   [Update admin quorum thresholdput](/reference/setadminquorumthreshold)
    *   [Enable or disable transactions to One Time Addressesput](/reference/setotastatus)
    *   [Returns current One Time Address statusget](/reference/getotastatus)
    *   [Returns current workspace statusget](/reference/getworkspacestatus)
    *   [Get console usersget](/reference/getconsoleusers)
    *   [Create console userpost](/reference/createconsoleuser)
    *   [Get API Keysget](/reference/getapiusers)
    *   [Create API Keypost](/reference/createapiuser)
    *   [Resets devicepost](/reference/resetdevice)
    *   [Get whitelisted ip addresses for an API Keyget](/reference/getwhitelistipaddresses)
*   [Policy Editor (Beta)](/reference/getactivepolicy)
    *   [Get the active policy and its validationget](/reference/getactivepolicy)
    *   [Get the active draftget](/reference/getdraft)
    *   [Update the draft with a new set of rulesput](/reference/updatedraft)
    *   [Send publish request for a certain draft idpost](/reference/publishdraft)
    *   [Send publish request for a set of policy rulespost](/reference/publishpolicyrules)
*   [Compliance](/reference/validatetravelruletransaction)
    *   [Validate Travel Rule Transactionpost](/reference/validatetravelruletransaction)
    *   [Validate Full Travel Rule Transactionpost](/reference/validatefulltravelruletransaction)
    *   [Get VASP detailsget](/reference/getvaspbydid)
    *   [Get All VASPsget](/reference/getvasps)
    *   [Add jsonDidKey to VASP detailsput](/reference/updatevasp)
    *   [Travel Rule - View Post-Screening Policyget](/reference/getpostscreeningpolicy)
    *   [Travel Rule - View Screening Policyget](/reference/getscreeningpolicy)
    *   [Get Travel Rule Screening Policy Configurationget](/reference/getscreeningconfiguration)
    *   [Update Travel Rule Configurationput](/reference/updatetravelruleconfig)
    *   [Get AML Screening Policy Configurationget](/reference/getamlscreeningconfiguration)
    *   [Update AML Configurationput](/reference/updateamlscreeningconfiguration)
    *   [AML - View Screening Policyget](/reference/getamlscreeningpolicy)
    *   [AML - View Post-Screening Policyget](/reference/getamlpostscreeningpolicy)
    *   [Screening Configuration Updateput](/reference/updatescreeningconfiguration)
*   [Blockchains & Assets](/reference/getsupportedassets-1)
    *   [List all asset types supported by Fireblocksget](/reference/getsupportedassets-1)
    *   [Register an assetpost](/reference/registernewasset)
    *   [Validate destination addressget](/reference/validateaddress)
    *   [Estimate the required fee for an assetget](/reference/estimatenetworkfee)
*   [Vaults](/reference/getvaultaccounts)
    *   [Get vault accountsget](/reference/getvaultaccounts)
    *   [Create a new vault accountpost](/reference/createvaultaccount)
    *   [Get vault accounts (Paginated)get](/reference/getpagedvaultaccounts)
    *   [Get a vault account by IDget](/reference/getvaultaccount)
    *   [Rename a vault accountput](/reference/updatevaultaccount)
    *   [Get vault wallets (Paginated)get](/reference/getassetwallets)
    *   [Hide a vault account in the consolepost](/reference/hidevaultaccount)
    *   [Unhide a vault account in the consolepost](/reference/unhidevaultaccount)
    *   [Activate a wallet in a vault accountpost](/reference/activateassetforvaultaccount)
    *   [Set an AML/KYT customer reference ID for a vault accountpost](/reference/setvaultaccountcustomerrefid)
    *   [Set auto fueling to on or offpost](/reference/setvaultaccountautofuel)
    *   [Get the asset balance for a vault accountget](/reference/getvaultaccountasset)
    *   [Create a new vault walletpost](/reference/createvaultaccountasset)
    *   [Refresh asset balance datapost](/reference/updatevaultaccountassetbalance)
    *   [Get asset addressesget](/reference/getvaultaccountassetaddresses)
    *   [Create new asset deposit addresspost](/reference/createvaultaccountassetaddress)
    *   [Get addresses (Paginated)get](/reference/getvaultaccountassetaddressespaginated)
    *   [Get the maximum spendable amount in a single transaction.get](/reference/getmaxspendableamount)
    *   [Update address descriptionput](/reference/updatevaultaccountassetaddress)
    *   [Assign AML customer reference IDpost](/reference/setcustomerrefidforaddress)
    *   [Convert a segwit address to legacy formatpost](/reference/createlegacyaddress)
    *   [Get UTXO unspent inputs informationget](/reference/getunspentinputs)
    *   [Get the public key for a derivation pathget](/reference/getpublickeyinfo)
    *   [Get the public key of an asset in a vault accountget](/reference/getpublickeyinfoforaddress)
    *   [Get asset balance for chosen assetsget](/reference/getvaultassets)
    *   [Get vault balance by an assetget](/reference/getvaultbalancebyasset)
*   [Transactions](/reference/gettransactions)
    *   [Get transaction historyget](/reference/gettransactions)
    *   [Create a new transactionpost](/reference/createtransaction)
    *   [Estimate transaction feepost](/reference/estimatetransactionfee)
    *   [Get a specific transaction by Fireblocks transaction IDget](/reference/gettransaction)
    *   [Get a specific transaction by external transaction IDget](/reference/gettransactionbyexternalid)
    *   [Set confirmation threshold by Fireblocks Transaction IDpost](/reference/settransactionconfirmationthreshold)
    *   [Drop ETH (EVM) transaction by IDpost](/reference/droptransaction)
    *   [Cancel a transactionpost](/reference/canceltransaction)
    *   [Freeze a transactionpost](/reference/freezetransaction)
    *   [Unfreeze a transactionpost](/reference/unfreezetransaction)
    *   [Set confirmation threshold by transaction hashpost](/reference/setconfirmationthresholdbytransactionhash)
*   [Gas Station](/reference/getgasstationinfo)
    *   [Get gas station settingsget](/reference/getgasstationinfo)
    *   [Get gas station settings by assetget](/reference/getgasstationbyassetid)
    *   [Edit gas station settingsput](/reference/updategasstationconfiguration)
    *   [Edit gas station settings for an assetput](/reference/updategasstationconfigurationbyassetid)
*   [Whitelisted Internal Wallets](/reference/getinternalwallets)
    *   [List internal walletsget](/reference/getinternalwallets)
    *   [Create an internal walletpost](/reference/createinternalwallet)
    *   [Get assets for internal walletget](/reference/getinternalwallet)
    *   [Delete an internal walletdelete](/reference/deleteinternalwallet)
    *   [Set an AML/KYT customer reference ID for an internal walletpost](/reference/setcustomerrefidforinternalwallet)
    *   [Get an asset from an internal walletget](/reference/getinternalwalletasset)
    *   [Add an asset to an internal walletpost](/reference/createinternalwalletasset)
    *   [Delete a whitelisted address from an internal walletdelete](/reference/deleteinternalwalletasset)
*   [Whitelisted External Wallets](/reference/getexternalwallets)
    *   [List external walletsget](/reference/getexternalwallets)
    *   [Create an external walletpost](/reference/createexternalwallet)
    *   [Find an external walletget](/reference/getexternalwallet)
    *   [Delete an external walletdelete](/reference/deleteexternalwallet)
    *   [Set an AML customer reference ID for an external walletpost](/reference/setexternalwalletcustomerrefid)
    *   [Get an asset from an external walletget](/reference/getexternalwalletasset)
    *   [Add an asset to an external wallet.post](/reference/addassettoexternalwallet)
    *   [Delete an asset from an external walletdelete](/reference/removeassetfromexternalwallet)
*   [Whitelisted Contracts](/reference/getcontracts)
    *   [List Whitelisted Contractsget](/reference/getcontracts)
    *   [Create a Whitelisted Contractpost](/reference/createcontract)
    *   [Find a Specific Whitelisted Contractget](/reference/getcontract)
    *   [Delete a Whitelisted Contractdelete](/reference/deletecontract)
    *   [Find a whitelisted contract's assetget](/reference/getcontractasset)
    *   [Add an Asset to a Whitelisted Contractpost](/reference/addcontractasset)
    *   [Delete a Whitelisted Contract's Assetdelete](/reference/deletecontractasset)
*   [Fireblocks Network](/reference/getnetworkconnections)
    *   [List network connectionsget](/reference/getnetworkconnections)
    *   [Creates a new network connectionpost](/reference/createnetworkconnection)
    *   [Update network connection routing policy.patch](/reference/setroutingpolicy)
    *   [Retrieve third-party network routing validation by asset type.get](/reference/checkthirdpartyrouting)
    *   [Get a network connectionget](/reference/getnetwork)
    *   [Deletes a network connection by IDdelete](/reference/deletenetworkconnection)
    *   [Returns all network IDs, both local IDs and discoverable remote IDsget](/reference/getnetworkids)
    *   [Creates a new Network IDpost](/reference/createnetworkid)
    *   [Returns all enabled routing policy asset groupsget](/reference/getroutingpolicyassetgroups)
    *   [Returns specific network ID.get](/reference/getnetworkid)
    *   [Deletes specific network ID.delete](/reference/deletenetworkid)
    *   [Update network id routing policy.patch](/reference/setnetworkidroutingpolicy)
    *   [Update network ID's discoverability.patch](/reference/setnetworkiddiscoverability)
    *   [Update network ID's name.patch](/reference/setnetworkidname)
*   [Smart Transfers](/reference/createticket)
    *   [Create Ticketpost](/reference/createticket)
    *   [Find Ticketget](/reference/searchtickets)
    *   [Search Ticket by IDget](/reference/findticketbyid)
    *   [Set expirationput](/reference/setticketexpiration)
    *   [Add external ref. IDput](/reference/setexternalrefid)
    *   [Submit ticketput](/reference/submitticket)
    *   [Fund ticket manuallyput](/reference/fulfillticket)
    *   [Cancel Ticketput](/reference/cancelticket)
    *   [Create leg (term)post](/reference/createticketterm)
    *   [Get Smart Transfer ticket termget](/reference/findtickettermbyid)
    *   [Update ticket leg (term)put](/reference/updateticketterm)
    *   [Delete ticket leg (term)delete](/reference/removeticketterm)
    *   [Define funding sourceput](/reference/fundticketterm)
    *   [Manually add term transactionput](/reference/manuallyfundticketterm)
    *   [Set user grouppost](/reference/setusergroups)
    *   [Get user groupget](/reference/getsmarttransferusergroups)
*   [Exchange Accounts](/reference/getexchangeaccounts)
    *   [List exchange accountsget](/reference/getexchangeaccounts)
    *   [List connected exchange accountsget](/reference/getpagedexchangeaccounts)
    *   [Get a specific exchange accountget](/reference/getexchangeaccount)
    *   [Internal transfer for exchange accountspost](/reference/internaltransfer)
    *   [Convert exchange account funds from the source asset to the destination assetpost](/reference/convertassets)
    *   [Get an asset for an exchange accountget](/reference/getexchangeaccountasset)
*   [Fiat Accounts](/reference/getfiataccounts)
    *   [List fiat accountsget](/reference/getfiataccounts)
    *   [Find a specific fiat accountget](/reference/getfiataccount)
    *   [Redeem funds to DDApost](/reference/redeemfundstolinkeddda)
    *   [Deposit funds from DDApost](/reference/depositfundsfromlinkeddda)
*   [Tokenization](/reference/issuenewtoken)
    *   [Issue a new tokenpost](/reference/issuenewtoken)
    *   [List all linked tokensget](/reference/getlinkedtokens)
    *   [Link a tokenpost](/reference/link)
    *   [Unlink a tokendelete](/reference/unlink)
    *   [Return a linked tokenget](/reference/getlinkedtoken)
*   [Contract Templates](/reference/getcontracttemplates)
    *   [List all contract templatesget](/reference/getcontracttemplates)
    *   [Upload contract templatepost](/reference/uploadcontracttemplate)
    *   [Return contract template by idget](/reference/getcontracttemplatebyid)
    *   [Delete a contract template by iddelete](/reference/deletecontracttemplatebyid)
    *   [Return contract template's constructorget](/reference/getconstructorbycontracttemplateid)
    *   [Return contract template's functionget](/reference/getfunctionabibycontracttemplateid)
    *   [Deploy contractpost](/reference/deploycontract)
*   [Deployed Contracts](/reference/getdeployedcontracts)
    *   [List deployed contracts dataget](/reference/getdeployedcontracts)
    *   [Return deployed contract data by idget](/reference/getdeployedcontractbyid)
    *   [Return deployed contract dataget](/reference/getdeployedcontractbyaddress)
*   [Contract Interactions](/reference/getdeployedcontractabi)
    *   [Return deployed contract's ABIget](/reference/getdeployedcontractabi)
    *   [Call a read function on a deployed contractpost](/reference/readcallfunction)
    *   [Call a write function on a deployed contractpost](/reference/writecallfunction)
*   [Staking](/reference/getchains)
    *   [List supported chains for Fireblocks Stakingget](/reference/getchains)
    *   [Get chain-specific staking summaryget](/reference/getchaininfo)
    *   [Execute a staking actionpost](/reference/executeaction)
    *   [List staking positions detailsget](/reference/getalldelegations)
    *   [Get staking summary detailsget](/reference/getsummary)
    *   [Get staking summary details by vaultget](/reference/getsummarybyvault)
    *   [Get staking position detailsget](/reference/getdelegationbyid)
    *   [List staking providers detailsget](/reference/getproviders)
    *   [Approve staking terms of servicepost](/reference/approvetermsofservicebyproviderid)
*   [NFTs](/reference/updateownershiptokens)
    *   [Refresh vault account tokensput](/reference/updateownershiptokens)
    *   [List all owned tokens (paginated)get](/reference/getownershiptokens)
    *   [List all distinct owned tokens (paginated)get](/reference/listownedtokens)
    *   [List owned collections (paginated)get](/reference/listownedcollections)
    *   [Refresh token metadataput](/reference/refreshnftmetadata)
    *   [List token data by IDget](/reference/getnft)
    *   [List tokens by IDsget](/reference/getnfts)
    *   [Update token ownership statusput](/reference/updatetokenownershipstatus)
    *   [Update tokens ownership statusput](/reference/updatetokensownershipstatus)
    *   [Update tokens ownership spam propertyput](/reference/updatetokensownershipspam)
*   [dApp Connections](/reference/get)
    *   [List all open dApp connectionsget](/reference/get)
    *   [Create a new dApp connection.post](/reference/create)
    *   [Respond to a pending dApp connection requestput](/reference/submit)
    *   [Remove an existing dApp connectiondelete](/reference/remove)
*   [Cosigners (Beta)](/reference/getcosigners)
    *   [Get all cosignersget](/reference/getcosigners)
    *   [Get cosignerget](/reference/getcosigner)
    *   [Rename cosignerpatch](/reference/renamecosigner)
    *   [Get all API keysget](/reference/getapikeys)
    *   [Get API keyget](/reference/getapikey)
*   [Webhooks](/reference/resendwebhooks)
    *   [Resend failed webhookspost](/reference/resendwebhooks)
    *   [Resend webhooks for a transaction by IDpost](/reference/resendtransactionwebhooks)
*   [Off Exchange](/reference/addoffexchange)
    *   [add collateralpost](/reference/addoffexchange)
    *   [remove collateralpost](/reference/removeoffexchange)
    *   [create settlement for a traderpost](/reference/settleoffexchangetrades)
    *   [get settlements transactions from exchangeget](/reference/getoffexchangesettlementtransactions)
    *   [Find a specific collateral exchange accountget](/reference/getoffexchangecollateralaccounts)
*   [Payments - Payout](/reference/createpayout)
    *   [Create a payout instruction setpost](/reference/createpayout)
    *   [Execute a payout instruction setpost](/reference/executepayoutaction)
    *   [Get the status of a payout instruction setget](/reference/getpayout)
*   [Payments - Flows](/reference/createflowconfiguration)
    *   [Create payment flow configurationpost](/reference/createflowconfiguration)
    *   [Retrieve workflow configurationget](/reference/getflowconfiguration)
    *   [Delete workflow configurationdelete](/reference/deleteflowconfiguration)
    *   [Create workflow executionpost](/reference/createflowexecution)
    *   [Get workflow execution detailsget](/reference/getflowexecution)
    *   [Execute the payments workflowpost](/reference/launchflowexecution)
*   [Key Link (Beta)](/reference/createsigningkey)
    *   [Add a new signing keypost](/reference/createsigningkey)
    *   [Get list of signing keysget](/reference/getsigningkeyslist)
    *   [Get a signing key by \`keyId\`get](/reference/getsigningkey)
    *   [Modify the signing by Fireblocks provided \`keyId\`patch](/reference/updatesigningkey)
    *   [Set agent user id that can sign with the signing key identified by the Fireblocks provided \`keyId\`patch](/reference/setagentid)
    *   [Add a new validation keypost](/reference/createvalidationkey)
    *   [Get list of registered validation keysget](/reference/getvalidationkeyslist)
    *   [Get a validation key by \`keyId\`get](/reference/getvalidationkey)
    *   [Disables a validation keypatch](/reference/disablevalidationkey)

## NCW API

*   [Non Custodial Wallets](/reference/create-1)
    *   [Create a new walletpost](/reference/create-1)
    *   [List walletsget](/reference/findallwallets)
    *   [Get a walletget](/reference/findonewallet)
    *   [Get wallet Latest Backup detailsget](/reference/getlatestbackup)
    *   [Get wallet key setup stateget](/reference/getwalletsetupstate)
    *   [Enable or disable a walletput](/reference/enablewallet)
*   [Non Custodial Wallet Accounts](/reference/createaccount)
    *   [Create a new accountpost](/reference/createaccount)
    *   [Get accountsget](/reference/findallaccounts)
    *   [Get an accountget](/reference/findoneaccount)
*   [Non Custodial Wallet Assets](/reference/getassets)
    *   [Retrieve assetsget](/reference/getassets)
    *   [Retrieve assetget](/reference/getasset)
    *   [Add asset to accountpost](/reference/addasset)
    *   [Refresh asset balanceput](/reference/refreshassetbalance)
    *   [Retrieve asset balanceget](/reference/getassetbalance)
    *   [Retrieve asset addressesget](/reference/getaddresses)
    *   [Retrieve supported assetsget](/reference/getsupportedassets)
*   [Non Custodial Wallet Devices](/reference/getdevices)
    *   [Get registered devicesget](/reference/getdevices)
    *   [Enable or Disable deviceput](/reference/enabledevice)
    *   [Get device key setup stateget](/reference/getdevicesetupstate)
*   [Non Custodial Wallets RPC](/reference/invokerpc)
    *   [Invoke RPCpost](/reference/invokerpc)

# [The TAP Rules structure](#the-tap-rules-structure)

The TAP Rule object represents a single unit of logic that the TAP enforces. Understanding the structure and constraints of this object is crucial to working with TAP Editor APIs. The same object is used when working with TAP Drafts. To publish a single rule or a set of rules, pass an array inside the request body that holds one or more TAP Rule objects. Each TAP Rule object in the array should have the following mandatory fields:

*   Action = "ALLOW" | "BLOCK" | "2-TIER". Defines what occurs when a transaction meets the rule's criteria.
*   Asset = string. Defines the type of asset being transacted. Use “\*” for all assets, or specify a specific assetID string that can be obtained using the [List all asset types supported by Fireblocks endpoint](/reference/get_supported-assets).
*   amountCurrency = string. “USD” | “EURO” | “NATIVE”. Limits the amount of any asset users can transfer based on their NATIVE value or based on their USD or EURO equivalents.
*   Src and dst = Defines source and destination accounts the rule allows transfers to originate from and be sent to. See [SRC & DST](https://docs.google.com/document/d/1r5SBEvTyYupUkXI1SPzIBWACLjj-e-me6YIt3DyHJok/edit#heading=h.l2yhcda5pqrg).
*   amountScope = string. "SINGLE\_TX" | "TIMEFRAME". This limit applies to a single transaction or to all transactions within the defined time period.
*   Amount = string.
*   periodSec = number. Time period in seconds which applies to the amountScope field to accumulate transferred amounts in transactions that match the rule, until the total exceeds the value you specify under Minimum. When the specified amount is reached within that period, whether by one or many transactions, further transactions in that period either fail or require more approvals.  
    Note: If “amountScope” = “SINGLE\_TX”, meaning that the rule should not cover a Time period, set “periodSec” = “0”
*   Type = “TRANSFER” (Default). The default value of TRANSFER is fixed and the value cannot be changed. If you wish to change the rule to apply on any of the other possible transaction types, add the “transactionType” key - see [transactionType](https://docs.google.com/document/d/1r5SBEvTyYupUkXI1SPzIBWACLjj-e-me6YIt3DyHJok/edit#heading=h.3xe69069gmoh). Note: additional mandatory fields apply when changing the transactionType.

# [Objects within the TAP Rule](#objects-within-the-tap-rule)
## [externalDescriptor](#externaldescriptor)

Each TAP rule receives a unique string ID identifying it. A “rule” is an object managed separately in Fireblocks as part of the TAP. The externalDescriptor key is an object holding that string ID value. This value is used to reference the specific rule when you wish to overwrite an existing rule using the [Send publish request for a set of policy rules endpoint](/reference/post_tap-publish). It is also referenced after the TAP Validation process is executed, and its response is returned under the checkResult object. See [Policy Validation](https://docs.google.com/document/d/1r5SBEvTyYupUkXI1SPzIBWACLjj-e-me6YIt3DyHJok/edit#heading=h.5w1umaiumvht) for details.

## [Operators](#operators)

Pass one or more userID strings inside an array of strings as the value for the “users” key in order to represent the users that are allowed to sign the transactions which are relevant under the scope of this rule. Use the [List users endpoint](/reference/get_users) to obtain the user IDs.

```

```

Alternatively, to configure a rule where all users are allowed, replace the “users” key with the "wildcard" key and pass "\*".

```

```

Passing an Array of “userGroups” instead of “users” is optional. Use the [List user groups endpoint](/reference/getusergroups) to obtain the userGroups IDs.

```

```

Check the example section below for payloads that have rules defined with either option.

## [transactionType](#transactiontype)

It is possible to pass the transactionType key with either of the below values to configure a rule for the following types:

*   TRANSFER - Default. Transfers funds from one account to another.
*   CONTRACT\_CALL - calls a smart contract.
*   APPROVE - enables the approve function to be used for a smart contract to withdraw from a designated wallet. [Learn more](https://support.fireblocks.io/hc/en-us/articles/4404616097426-Approve-Transaction-Amount-Cap).
*   MINT - performs a mint operation (increases supply) on a supported token.
*   BURN - performs a burn operation (reduces supply) on a supported token.
*   STAKE - allows you to allocate and lock assets supported for staking to accrue rewards. [Learn more](https://support.fireblocks.io/hc/en-us/articles/4417214701970-Staking-on-Fireblocks).
*   RAW - an off-chain message used to sign any message with your private key.
*   TYPED\_MESSAGE - an off-chain message type that follows a predefined format and used to sign specific ETH or BTC messages.

Each of the TAP rule types may have different mandatory fields that are seen inside the endpoint’s [API reference documentation](/reference/post_tap-publish). For example, for the TRANSFER type, you can use any of the following sources or destinations:

*   \*
*   VAULT
*   ONE\_TIME\_ADDRESS
*   EXCHANGE
*   UNMANAGED
*   NETWORK\_CONNECTION
*   FIAT\_ACCOUNT

### [Note:](#note)

Using ONE\_TIME\_ADDRESS, UNMANAGED & NETWORK\_CONNECTION is only possible under DST.

## [SRC & DST](#src--dst)

Standard Transfer rules as well as Contract\_Call rules limit the activity for specific sources or destinations. Exceptions to these rules, where the rule should not include a destination limitation, are Typed Message, RAW and Burn rule types.

The SRC & DST object structures should be an array of arrays. Each array can hold an array of either:

*   A single key - “wildcard”, as the type of address should not be indicated
*   Two keys - ID and Type
*   Three keys - ID, Type, and Subtype of the address

```

```

Check the example section below for full payloads that have rules defined with either option.

# [Publishing, approving and validating TAP rules](#publishing-approving-and-validating-tap-rules)

A TAP should normally have more than a single rule to govern the operations of the workspace. Therefore, multiple TAP Rule objects are passed inside the “rules” object. The [Send publish request for a set of policy rules endpoint](/reference/post_tap-publish) should receive a payload of your entire tap. Check the example section below for payloads that have multiple rules defined.

# [Publish a Poli​​cy using an SDK](#publish-a-policy-using-an-sdk)

To publish your TAP, use the <button aria-label="Copy Code" class="rdmd-code-copy fa"></button><code class="rdmd-code lang- theme-light" data-lang="" name="" tabindex="0">publishPolicyRules</code> SDK method and include the TAP Rule object. In the following example, you can see the passed object named “rule”. As mentioned, a typical TAP includes rules which are sent under the same array as a separate object.

Here is a code sample for configuring a single rule allowing ETH transactions:

```

```

Check the example section below for payloads that have multiple rules defined.

## [Edit an Existing TAP rule](#edit-an-existing-tap-rule)

Using the [Send publish request for a set of policy rules endpoint](/reference/post_tap-publish), you can edit existing rules by passing the TAP Rule object details and adding the externalDescriptor ID of an existing rule that you wish to overwrite. Get the externalDescriptor from the [Get the active policy and its validation endpoint](/reference/get_tap-active-policy). To edit multiple rules, pass the TAP Rule object and add each rule’s unique externalDescriptor in every rule object.

# [Approving the TAP change inside the Console](#approving-the-tap-change-inside-the-console)

Once you execute the code as the example above shows, your workspace Owner will receive a **Review TAP changes** notification in their Console. They will have to login and review the changes prior to getting the approval request on their mobile device.

Below is the notification that the Owner should look for once logging into the Console and navigating to the Settings page:

![](https://files.readme.io/8d77558-img2.png)

On the top-right side of the screen, the following will appear:

![](https://files.readme.io/f5cbace-img3.png)# [Customizing the Rules](#customizing-the-rules)
## [Time-Based Threshold](#time-based-threshold)

Passing the amountAggregation object, together with the amountScope key (set to “TIMEFRAME”) and the periodSec (representing the time period in seconds), will configure the rule to match the aggregated value of transactions, the source and destination inclusion pattern, and the time period.

### [Note:](#note-1)

This is a mandatory **_number_** parameter that should be set to “0” if no Time Based Threshold is used in the rule.

**Example**: Block transfers when a $15,000 accumulation is reached over a 12-hour period (12hx60mx60s=43200 seconds))

```

```
## [applyForApprove](#applyforapprove)

Passing this key with a True value, will configure a Contract\_Call rule to match for initial “Approve” transaction used in Web3 smart contracts.

```

```
## [applyForTypedMessage](#applyfortypedmessage)

Passing this key with a True value, when configuring a Contract\_Call rule, will match interactions with decentralized apps (dApps) that require signing EIP-712 or ETH personal messages. Alternatively, you can create a separate Typed\_Message type rule for that purpose only. Configuring this key is relevant for Contract\_Call rules when one-time address (OTA) and whitelisted destinations are used or for Off-chain messages that have no destination.

```

```
## [rawMessageSigning](#rawmessagesigning)

Passing this object, will configure the rule to match specific Raw Signing messages by either their derivation paths(s) or their signing algorithm.

```

```

This is applicable when the rule is configured with the “All vaults” as the source. In the example below, the SRC object limits the source to the “Vault” type. Unlike the other types of sources allowed, vaults have a derivation path per each asset wallet. [See TAP Rules for RAW Signing](https://support.fireblocks.io/hc/en-us/articles/4413379762450-Raw-Signing).

```

```

Note that passing the “derivationPath” key is mandatory while passing “algorithm” is optional.

# [TAP Validation](#tap-validation)

Fireblocks checks your rule submission for errors. Each rule receives a unique string ID identifying the rule. The rule ID is returned under the TAP response body inside the externalDescriptor parameter. Together with the details of the submitted rule(s), the TAP response object shows additional validation-related details under the status key and the checkResult object:

*   Status: the status of the TAP operation
*   checkResult: an object showing the details of the check for each rule submitted
*   errors (1): a number indicating the total amount of errors found
*   results: an array holding the details of the validation per each rule submitted. Each validation result will have an index key that represents the position of the rule within the set of TAP rules. Each validation will contain an array of errors found within it.
*   errors (2): an array of objects, each reflecting the specific error details identified.

Here is an example Response object showing the validation fields (the rule itself is redacted):

```

```
# [Metadata response object](#metadata-response-object)

Together with the details of the submitted rule(s), the status of the TAP submission, and the checkResult object, the TAP response object holds a few important metadata details:

*   editedAt: the timestamp of receiving the TAP edit request
*   editedBy: the user ID submitting the TAP
*   publishedAt: the timestamp of publishing the TAP
*   publishedBy: the user ID that published the TAP

Example Metadata object details that are a part of the TAP Response object:

```

```
# [TAP examples](#tap-examples)

*   Transfer OTA
*   Transfer accumulated
*   Contract Call

The following JSON sequence shows a set of transfer rules demonstrating the usage of designatedSigners, authorizationGroups, and operators (initiators) in an individual/group/combined configuration. Also, notice that dstAddressType matches the specific destination type.

The flow in this example shows:

*   A separate handling of One-time Address destinations, requiring special approvals and signature.
*   Four consecutive rules that define permitted transfers to whitelisted destinations for:
    *   Overall accumulation which blocks deviating transfers.
    *   Requirement of special approvals for single transactions above a certain amount and between specific sets of venues.
    *   Definition of the most permitted transfer rule for transactions that do not match predecessing rules.

![](https://files.readme.io/e13a587-img4.png)```

```

The next JSON example demonstrates similar sets of rules which can be placed within your TAP, according to the first-match principle, to allow web3 interactions.

The flow in this example shows:

*   A permissive rule for Contract Calls performed from a specific vault designated to whitelisted contracts
*   A Contract Call rule that allows other vaults to interact with whitelisted contracts upon approval
*   A rule that allows users to interact with non-whitelisted contracts with more restrictive approvals

![](https://files.readme.io/f5dcec8-img5.png)```

```