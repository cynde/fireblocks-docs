---
title: "Validate Eth Raw Transactions"
---

JUMP TO

## Introduction

*   [API Overview](/reference/api-overview)
*   [REST API Guide](/reference/rest-api-guide-1)
*   [Authenticate](/reference/signing-a-request-jwt-structure)
*   [API Idempotency](/reference/api-idempotency)
*   [Rate Limiting](/reference/rate-limiting)
*   [Transaction Sources & Destinations](/reference/transaction-sources-destinations)

## Errors & Data Objects

*   [API Responses and Error Codes](/reference/api-error-codes)
*   [Transaction Statuses](/reference/statuses)
    *   [Statuses](/reference/statuses)
    *   [Sub-Statuses](/reference/sub-statuses)
*   [Data Objects](/reference/data-objects)
    *   [Vault Objects](/reference/vault-objects)
    *   [Exchange Account Objects](/reference/exchange-objects)
    *   [Fiat Account Objects](/reference/fiat-account-objects)
    *   [Network Connection Objects](/reference/network-objects)
    *   [Internal/External Wallet Objects](/reference/internalexternal-wallet-objects)
    *   [Contract Objects](/reference/contract-objects)
    *   [Blockchain & Asset Objects](/reference/supported-assets-object)
    *   [Transaction Objects](/reference/transaction-objects)
    *   [Transaction Authorization Objects](/reference/transaction-authorization-objects)
    *   [Fee Estimation Objects](/reference/fee-estimation-objects)
    *   [Transaction Screening Objects](/reference/transaction-screening-objects)
    *   [Raw Signing Objects](/reference/raw-signing-objects)
    *   [Payments Objects](/reference/payments-objects)
    *   [Gas Station Objects](/reference/gas-station-objects)
    *   [User Object](/reference/user-object)
    *   [Webhook Object](/reference/webhook-object)
    *   [NFT Objects](/reference/nft-objects)
    *   [Web3 Connection Objects](/reference/web3-connection-objects)
    *   [General Objects](/reference/general-objects)
*   [Webhooks Data Objects](/reference/webhooks-notifications-1)
    *   [Vault Webhooks](/reference/vault-webhooks)
    *   [Exchange & Fiat Account Webhooks](/reference/exchange-fiat-account-webhooks)
    *   [Network Connection Webhooks](/reference/network-connection-webhooks)
    *   [Smart Transfer Webhooks](/reference/smart-transfer-webhooks)
    *   [Internal, External & Contract Wallet Webhooks](/reference/internal-external-contract-wallet-webhooks)
    *   [Transaction Webhooks](/reference/transaction-webhooks)
    *   [NFT Webhooks](/reference/nft-webhooks)
*   [Handle API Errors](/reference/handling-api-errors)

## SDKs & Dev Tools

*   [Postman Guide](/reference/explore-postman-collection)
*   [TypeScript SDK](/reference/typescript-sdk)
*   [Python SDK](/reference/new-python-sdk)
*   [Java SDK](/reference/java-sdk)
*   [JS SDK (Legacy)](/reference/js-sdk-legacy)
*   [Python SDK (Legacy)](/reference/python-sdk)
*   [EVM Web3 Provider](/reference/evm-web3-provider)
*   [EVM Local JSON RPC](/reference/evm-local-json-rpc)
*   [Hardhat Plugin](/reference/hardhat-plugin)
*   [Solana Web3 Adapter](/reference/solana-web3-adapter)

## Manage Your Workspace

*   [Create API Keys](/reference/create-api-keys)
*   [Configure Transaction Authorization Policy](/reference/configure-transaction-authorization-policy)

## Manage Wallets

*   [Create Vault Accounts](/reference/create-vault-account)
*   [Create Vault Wallets](/reference/create-vault-wallet)
*   [Create Omnibus Structure](/reference/create-omnibus-structure)

## Manage Transactions

*   [Create Transactions](/reference/create-transactions)
*   [Boost Transactions](/reference/boost-transactions)
*   [Sweep to Omnibus](/reference/sweep-to-omnibus-1)
*   [Select UTXOs](/reference/select-utxos-for-a-transaction)
*   [Consolidate UTXOs](/reference/consolidate-utxos)
*   [Monitoring Transaction Statuses](/reference/monitoring-transaction-status)

## Manage Transaction Fees

*   [Configure Gas Station](/reference/enable-auto-fueling)
    *   [Enable Auto Fueling](/reference/enable-auto-fueling)
    *   [Set the Gas Station values](/reference/set-the-gas-station-values)
    *   [Fund the Gas Station](/reference/fund-the-gas-station)
    *   [Monitor the Gas Station](/reference/monitor-the-gas-station)
*   [Estimate Transaction Fee](/reference/estimate-transaction-fee)

## Manage Treasury

*   [Execute Smart Transfers](/reference/execute-smart-transfers-1)
*   [Stake Assets](/reference/overview-2)
    *   [Overview](/reference/overview-2)
    *   [Create a Staking Position](/reference/create-stake)
    *   [Unstake & Withdraw](/reference/withdraw-staked-assets)
*   [Connect to Exchanges & FIAT Providers](/reference/connect-to-exchanges-fiat-providers)

## Comply with regulation

*   [Validate Travel Rule](/reference/validate-travel-rule)

## Manage Smart Contracts

*   [Upload Contract Template](/reference/upload-contract-template)

## Manage Assets

*   [Get Supported Assets](/reference/list-supported-assets)
*   [Add Tokens](/reference/add-your-tokens)
*   [Manage NFTs](/reference/deploy-an-nft-collection)
    *   [Deploy an NFT Collection](/reference/deploy-an-nft-collection)
    *   [Mint an NFT](/reference/mint-an-nft)
    *   [Retrieve NFTs](/reference/retrieve-nfts)
    *   [Transfer NFTs](/reference/transfer-nfts)

## SIGN OFFChain MESSAGES

*   [Typed Message Signing](/reference/structuring-the-api-call)
    *   [Structure the API Call](/reference/structuring-the-api-call)
    *   [Sign Typed Messages in Ethereum](/reference/sign-typed-messages-for-ethereum-and-evm-networks)
    *   [Sign Typed Messages in Tron](/reference/signing-typed-messages-in-tron)
    *   [Sign Typed Messages in Bitcoin](/reference/signing-typed-messages-in-bitcoin)
*   [RAW Signing](/reference/structuring-the-api-call-1)
    *   [Structure the API Call](/reference/structuring-the-api-call-1)
    *   [Code Examples](/reference/code-examples-2)
*   [Caching Signatures](/reference/caching-signatures)

## Automate Your Flows

*   [Set API Co-Signer Callback Handler](/reference/authenticate)
    *   [Authenticate](/reference/authenticate)
    *   [Response Object](/reference/response-object)
    *   [Approve Transactions](/reference/approve-transactions)
    *   [Approve Configuration Changes](/reference/approve-configuration-changes)
    *   [Code Examples](/reference/basic-code-example)
        *   [Basic Code Example](/reference/basic-code-example)
        *   [Use the Plugin Based Callback Handler](/reference/plugin-based-callback-handler)
        *   [Validate ETH Raw Transactions](/reference/validate-eth-raw-transactions)
*   [Consume Webhooks](/reference/configure-webhook-urls)
    *   [Configure Webhook URLs](/reference/configure-webhook-urls)
    *   [Validate Requests](/reference/verify-requests)
    *   [Resend Webhook Notifications](/reference/resend-webhook-notifications)
    *   [Code Examples](/reference/code-examples-1)
    *   [Understand Webhook Data Objects](/reference/get-to-know-webhook-data-objects)

## Create Payments

*   [Execute Payouts](/reference/executing-payouts)
*   [Create Payment Flows](/reference/create-workflows)
    *   [Workflow Data Objects](/reference/workflow-data-objects-1)
    *   [Create Workflow Configuration](/reference/create-workflow-configuration)
    *   [Create Workflow Execution](/reference/create-workflow-execution)
    *   [Launch Workflow Execution](/reference/launch-workflow-execution)

## Fireblocks API

*   [Workspace Management](/reference/freezeworkspace)
    *   [Freezepost](/reference/freezeworkspace)
    *   [List user groupsget](/reference/getusergroups)
    *   [Create user grouppost](/reference/createusergroup)
    *   [Get user groupget](/reference/getusergroup)
    *   [Update user groupput](/reference/updateusergroup)
    *   [Delete user groupdelete](/reference/deleteusergroup)
    *   [List usersget](/reference/getusers)
    *   [Get audit logsget](/reference/getaudits)
    *   [Get audit logsget](/reference/getauditlogs)
    *   [Update admin quorum thresholdput](/reference/setadminquorumthreshold)
    *   [Enable or disable transactions to One Time Addressesput](/reference/setotastatus)
    *   [Returns current One Time Address statusget](/reference/getotastatus)
    *   [Returns current workspace statusget](/reference/getworkspacestatus)
    *   [Get console usersget](/reference/getconsoleusers)
    *   [Create console userpost](/reference/createconsoleuser)
    *   [Get API Keysget](/reference/getapiusers)
    *   [Create API Keypost](/reference/createapiuser)
    *   [Resets devicepost](/reference/resetdevice)
    *   [Get whitelisted ip addresses for an API Keyget](/reference/getwhitelistipaddresses)
*   [Policy Editor (Beta)](/reference/getactivepolicy)
    *   [Get the active policy and its validationget](/reference/getactivepolicy)
    *   [Get the active draftget](/reference/getdraft)
    *   [Update the draft with a new set of rulesput](/reference/updatedraft)
    *   [Send publish request for a certain draft idpost](/reference/publishdraft)
    *   [Send publish request for a set of policy rulespost](/reference/publishpolicyrules)
*   [Compliance](/reference/validatetravelruletransaction)
    *   [Validate Travel Rule Transactionpost](/reference/validatetravelruletransaction)
    *   [Validate Full Travel Rule Transactionpost](/reference/validatefulltravelruletransaction)
    *   [Get VASP detailsget](/reference/getvaspbydid)
    *   [Get All VASPsget](/reference/getvasps)
    *   [Add jsonDidKey to VASP detailsput](/reference/updatevasp)
    *   [Travel Rule - View Post-Screening Policyget](/reference/getpostscreeningpolicy)
    *   [Travel Rule - View Screening Policyget](/reference/getscreeningpolicy)
    *   [Get Travel Rule Screening Policy Configurationget](/reference/getscreeningconfiguration)
    *   [Update Travel Rule Configurationput](/reference/updatetravelruleconfig)
    *   [Get AML Screening Policy Configurationget](/reference/getamlscreeningconfiguration)
    *   [Update AML Configurationput](/reference/updateamlscreeningconfiguration)
    *   [AML - View Screening Policyget](/reference/getamlscreeningpolicy)
    *   [AML - View Post-Screening Policyget](/reference/getamlpostscreeningpolicy)
    *   [Screening Configuration Updateput](/reference/updatescreeningconfiguration)
*   [Blockchains & Assets](/reference/getsupportedassets-1)
    *   [List all asset types supported by Fireblocksget](/reference/getsupportedassets-1)
    *   [Register an assetpost](/reference/registernewasset)
    *   [Validate destination addressget](/reference/validateaddress)
    *   [Estimate the required fee for an assetget](/reference/estimatenetworkfee)
*   [Vaults](/reference/getvaultaccounts)
    *   [Get vault accountsget](/reference/getvaultaccounts)
    *   [Create a new vault accountpost](/reference/createvaultaccount)
    *   [Get vault accounts (Paginated)get](/reference/getpagedvaultaccounts)
    *   [Get a vault account by IDget](/reference/getvaultaccount)
    *   [Rename a vault accountput](/reference/updatevaultaccount)
    *   [Get vault wallets (Paginated)get](/reference/getassetwallets)
    *   [Hide a vault account in the consolepost](/reference/hidevaultaccount)
    *   [Unhide a vault account in the consolepost](/reference/unhidevaultaccount)
    *   [Activate a wallet in a vault accountpost](/reference/activateassetforvaultaccount)
    *   [Set an AML/KYT customer reference ID for a vault accountpost](/reference/setvaultaccountcustomerrefid)
    *   [Set auto fueling to on or offpost](/reference/setvaultaccountautofuel)
    *   [Get the asset balance for a vault accountget](/reference/getvaultaccountasset)
    *   [Create a new vault walletpost](/reference/createvaultaccountasset)
    *   [Refresh asset balance datapost](/reference/updatevaultaccountassetbalance)
    *   [Get asset addressesget](/reference/getvaultaccountassetaddresses)
    *   [Create new asset deposit addresspost](/reference/createvaultaccountassetaddress)
    *   [Get addresses (Paginated)get](/reference/getvaultaccountassetaddressespaginated)
    *   [Get the maximum spendable amount in a single transaction.get](/reference/getmaxspendableamount)
    *   [Update address descriptionput](/reference/updatevaultaccountassetaddress)
    *   [Assign AML customer reference IDpost](/reference/setcustomerrefidforaddress)
    *   [Convert a segwit address to legacy formatpost](/reference/createlegacyaddress)
    *   [Get UTXO unspent inputs informationget](/reference/getunspentinputs)
    *   [Get the public key for a derivation pathget](/reference/getpublickeyinfo)
    *   [Get the public key of an asset in a vault accountget](/reference/getpublickeyinfoforaddress)
    *   [Get asset balance for chosen assetsget](/reference/getvaultassets)
    *   [Get vault balance by an assetget](/reference/getvaultbalancebyasset)
*   [Transactions](/reference/gettransactions)
    *   [Get transaction historyget](/reference/gettransactions)
    *   [Create a new transactionpost](/reference/createtransaction)
    *   [Estimate transaction feepost](/reference/estimatetransactionfee)
    *   [Get a specific transaction by Fireblocks transaction IDget](/reference/gettransaction)
    *   [Get a specific transaction by external transaction IDget](/reference/gettransactionbyexternalid)
    *   [Set confirmation threshold by Fireblocks Transaction IDpost](/reference/settransactionconfirmationthreshold)
    *   [Drop ETH (EVM) transaction by IDpost](/reference/droptransaction)
    *   [Cancel a transactionpost](/reference/canceltransaction)
    *   [Freeze a transactionpost](/reference/freezetransaction)
    *   [Unfreeze a transactionpost](/reference/unfreezetransaction)
    *   [Set confirmation threshold by transaction hashpost](/reference/setconfirmationthresholdbytransactionhash)
*   [Gas Station](/reference/getgasstationinfo)
    *   [Get gas station settingsget](/reference/getgasstationinfo)
    *   [Get gas station settings by assetget](/reference/getgasstationbyassetid)
    *   [Edit gas station settingsput](/reference/updategasstationconfiguration)
    *   [Edit gas station settings for an assetput](/reference/updategasstationconfigurationbyassetid)
*   [Whitelisted Internal Wallets](/reference/getinternalwallets)
    *   [List internal walletsget](/reference/getinternalwallets)
    *   [Create an internal walletpost](/reference/createinternalwallet)
    *   [Get assets for internal walletget](/reference/getinternalwallet)
    *   [Delete an internal walletdelete](/reference/deleteinternalwallet)
    *   [Set an AML/KYT customer reference ID for an internal walletpost](/reference/setcustomerrefidforinternalwallet)
    *   [Get an asset from an internal walletget](/reference/getinternalwalletasset)
    *   [Add an asset to an internal walletpost](/reference/createinternalwalletasset)
    *   [Delete a whitelisted address from an internal walletdelete](/reference/deleteinternalwalletasset)
*   [Whitelisted External Wallets](/reference/getexternalwallets)
    *   [List external walletsget](/reference/getexternalwallets)
    *   [Create an external walletpost](/reference/createexternalwallet)
    *   [Find an external walletget](/reference/getexternalwallet)
    *   [Delete an external walletdelete](/reference/deleteexternalwallet)
    *   [Set an AML customer reference ID for an external walletpost](/reference/setexternalwalletcustomerrefid)
    *   [Get an asset from an external walletget](/reference/getexternalwalletasset)
    *   [Add an asset to an external wallet.post](/reference/addassettoexternalwallet)
    *   [Delete an asset from an external walletdelete](/reference/removeassetfromexternalwallet)
*   [Whitelisted Contracts](/reference/getcontracts)
    *   [List Whitelisted Contractsget](/reference/getcontracts)
    *   [Create a Whitelisted Contractpost](/reference/createcontract)
    *   [Find a Specific Whitelisted Contractget](/reference/getcontract)
    *   [Delete a Whitelisted Contractdelete](/reference/deletecontract)
    *   [Find a whitelisted contract's assetget](/reference/getcontractasset)
    *   [Add an Asset to a Whitelisted Contractpost](/reference/addcontractasset)
    *   [Delete a Whitelisted Contract's Assetdelete](/reference/deletecontractasset)
*   [Fireblocks Network](/reference/getnetworkconnections)
    *   [List network connectionsget](/reference/getnetworkconnections)
    *   [Creates a new network connectionpost](/reference/createnetworkconnection)
    *   [Update network connection routing policy.patch](/reference/setroutingpolicy)
    *   [Retrieve third-party network routing validation by asset type.get](/reference/checkthirdpartyrouting)
    *   [Get a network connectionget](/reference/getnetwork)
    *   [Deletes a network connection by IDdelete](/reference/deletenetworkconnection)
    *   [Returns all network IDs, both local IDs and discoverable remote IDsget](/reference/getnetworkids)
    *   [Creates a new Network IDpost](/reference/createnetworkid)
    *   [Returns all enabled routing policy asset groupsget](/reference/getroutingpolicyassetgroups)
    *   [Returns specific network ID.get](/reference/getnetworkid)
    *   [Deletes specific network ID.delete](/reference/deletenetworkid)
    *   [Update network id routing policy.patch](/reference/setnetworkidroutingpolicy)
    *   [Update network ID's discoverability.patch](/reference/setnetworkiddiscoverability)
    *   [Update network ID's name.patch](/reference/setnetworkidname)
*   [Smart Transfers](/reference/createticket)
    *   [Create Ticketpost](/reference/createticket)
    *   [Find Ticketget](/reference/searchtickets)
    *   [Search Ticket by IDget](/reference/findticketbyid)
    *   [Set expirationput](/reference/setticketexpiration)
    *   [Add external ref. IDput](/reference/setexternalrefid)
    *   [Submit ticketput](/reference/submitticket)
    *   [Fund ticket manuallyput](/reference/fulfillticket)
    *   [Cancel Ticketput](/reference/cancelticket)
    *   [Create leg (term)post](/reference/createticketterm)
    *   [Get Smart Transfer ticket termget](/reference/findtickettermbyid)
    *   [Update ticket leg (term)put](/reference/updateticketterm)
    *   [Delete ticket leg (term)delete](/reference/removeticketterm)
    *   [Define funding sourceput](/reference/fundticketterm)
    *   [Manually add term transactionput](/reference/manuallyfundticketterm)
    *   [Set user grouppost](/reference/setusergroups)
    *   [Get user groupget](/reference/getsmarttransferusergroups)
*   [Exchange Accounts](/reference/getexchangeaccounts)
    *   [List exchange accountsget](/reference/getexchangeaccounts)
    *   [List connected exchange accountsget](/reference/getpagedexchangeaccounts)
    *   [Get a specific exchange accountget](/reference/getexchangeaccount)
    *   [Internal transfer for exchange accountspost](/reference/internaltransfer)
    *   [Convert exchange account funds from the source asset to the destination assetpost](/reference/convertassets)
    *   [Get an asset for an exchange accountget](/reference/getexchangeaccountasset)
*   [Fiat Accounts](/reference/getfiataccounts)
    *   [List fiat accountsget](/reference/getfiataccounts)
    *   [Find a specific fiat accountget](/reference/getfiataccount)
    *   [Redeem funds to DDApost](/reference/redeemfundstolinkeddda)
    *   [Deposit funds from DDApost](/reference/depositfundsfromlinkeddda)
*   [Tokenization](/reference/issuenewtoken)
    *   [Issue a new tokenpost](/reference/issuenewtoken)
    *   [List all linked tokensget](/reference/getlinkedtokens)
    *   [Link a tokenpost](/reference/link)
    *   [Unlink a tokendelete](/reference/unlink)
    *   [Return a linked tokenget](/reference/getlinkedtoken)
*   [Contract Templates](/reference/getcontracttemplates)
    *   [List all contract templatesget](/reference/getcontracttemplates)
    *   [Upload contract templatepost](/reference/uploadcontracttemplate)
    *   [Return contract template by idget](/reference/getcontracttemplatebyid)
    *   [Delete a contract template by iddelete](/reference/deletecontracttemplatebyid)
    *   [Return contract template's constructorget](/reference/getconstructorbycontracttemplateid)
    *   [Return contract template's functionget](/reference/getfunctionabibycontracttemplateid)
    *   [Deploy contractpost](/reference/deploycontract)
*   [Deployed Contracts](/reference/getdeployedcontracts)
    *   [List deployed contracts dataget](/reference/getdeployedcontracts)
    *   [Return deployed contract data by idget](/reference/getdeployedcontractbyid)
    *   [Return deployed contract dataget](/reference/getdeployedcontractbyaddress)
*   [Contract Interactions](/reference/getdeployedcontractabi)
    *   [Return deployed contract's ABIget](/reference/getdeployedcontractabi)
    *   [Call a read function on a deployed contractpost](/reference/readcallfunction)
    *   [Call a write function on a deployed contractpost](/reference/writecallfunction)
*   [Staking](/reference/getchains)
    *   [List supported chains for Fireblocks Stakingget](/reference/getchains)
    *   [Get chain-specific staking summaryget](/reference/getchaininfo)
    *   [Execute a staking actionpost](/reference/executeaction)
    *   [List staking positions detailsget](/reference/getalldelegations)
    *   [Get staking summary detailsget](/reference/getsummary)
    *   [Get staking summary details by vaultget](/reference/getsummarybyvault)
    *   [Get staking position detailsget](/reference/getdelegationbyid)
    *   [List staking providers detailsget](/reference/getproviders)
    *   [Approve staking terms of servicepost](/reference/approvetermsofservicebyproviderid)
*   [NFTs](/reference/updateownershiptokens)
    *   [Refresh vault account tokensput](/reference/updateownershiptokens)
    *   [List all owned tokens (paginated)get](/reference/getownershiptokens)
    *   [List all distinct owned tokens (paginated)get](/reference/listownedtokens)
    *   [List owned collections (paginated)get](/reference/listownedcollections)
    *   [Refresh token metadataput](/reference/refreshnftmetadata)
    *   [List token data by IDget](/reference/getnft)
    *   [List tokens by IDsget](/reference/getnfts)
    *   [Update token ownership statusput](/reference/updatetokenownershipstatus)
    *   [Update tokens ownership statusput](/reference/updatetokensownershipstatus)
    *   [Update tokens ownership spam propertyput](/reference/updatetokensownershipspam)
*   [dApp Connections](/reference/get)
    *   [List all open dApp connectionsget](/reference/get)
    *   [Create a new dApp connection.post](/reference/create)
    *   [Respond to a pending dApp connection requestput](/reference/submit)
    *   [Remove an existing dApp connectiondelete](/reference/remove)
*   [Cosigners (Beta)](/reference/getcosigners)
    *   [Get all cosignersget](/reference/getcosigners)
    *   [Get cosignerget](/reference/getcosigner)
    *   [Rename cosignerpatch](/reference/renamecosigner)
    *   [Get all API keysget](/reference/getapikeys)
    *   [Get API keyget](/reference/getapikey)
*   [Webhooks](/reference/resendwebhooks)
    *   [Resend failed webhookspost](/reference/resendwebhooks)
    *   [Resend webhooks for a transaction by IDpost](/reference/resendtransactionwebhooks)
*   [Off Exchange](/reference/addoffexchange)
    *   [add collateralpost](/reference/addoffexchange)
    *   [remove collateralpost](/reference/removeoffexchange)
    *   [create settlement for a traderpost](/reference/settleoffexchangetrades)
    *   [get settlements transactions from exchangeget](/reference/getoffexchangesettlementtransactions)
    *   [Find a specific collateral exchange accountget](/reference/getoffexchangecollateralaccounts)
*   [Payments - Payout](/reference/createpayout)
    *   [Create a payout instruction setpost](/reference/createpayout)
    *   [Execute a payout instruction setpost](/reference/executepayoutaction)
    *   [Get the status of a payout instruction setget](/reference/getpayout)
*   [Payments - Flows](/reference/createflowconfiguration)
    *   [Create payment flow configurationpost](/reference/createflowconfiguration)
    *   [Retrieve workflow configurationget](/reference/getflowconfiguration)
    *   [Delete workflow configurationdelete](/reference/deleteflowconfiguration)
    *   [Create workflow executionpost](/reference/createflowexecution)
    *   [Get workflow execution detailsget](/reference/getflowexecution)
    *   [Execute the payments workflowpost](/reference/launchflowexecution)
*   [Key Link (Beta)](/reference/createsigningkey)
    *   [Add a new signing keypost](/reference/createsigningkey)
    *   [Get list of signing keysget](/reference/getsigningkeyslist)
    *   [Get a signing key by \`keyId\`get](/reference/getsigningkey)
    *   [Modify the signing by Fireblocks provided \`keyId\`patch](/reference/updatesigningkey)
    *   [Set agent user id that can sign with the signing key identified by the Fireblocks provided \`keyId\`patch](/reference/setagentid)
    *   [Add a new validation keypost](/reference/createvalidationkey)
    *   [Get list of registered validation keysget](/reference/getvalidationkeyslist)
    *   [Get a validation key by \`keyId\`get](/reference/getvalidationkey)
    *   [Disables a validation keypatch](/reference/disablevalidationkey)

## NCW API

*   [Non Custodial Wallets](/reference/create-1)
    *   [Create a new walletpost](/reference/create-1)
    *   [List walletsget](/reference/findallwallets)
    *   [Get a walletget](/reference/findonewallet)
    *   [Get wallet Latest Backup detailsget](/reference/getlatestbackup)
    *   [Get wallet key setup stateget](/reference/getwalletsetupstate)
    *   [Enable or disable a walletput](/reference/enablewallet)
*   [Non Custodial Wallet Accounts](/reference/createaccount)
    *   [Create a new accountpost](/reference/createaccount)
    *   [Get accountsget](/reference/findallaccounts)
    *   [Get an accountget](/reference/findoneaccount)
*   [Non Custodial Wallet Assets](/reference/getassets)
    *   [Retrieve assetsget](/reference/getassets)
    *   [Retrieve assetget](/reference/getasset)
    *   [Add asset to accountpost](/reference/addasset)
    *   [Refresh asset balanceput](/reference/refreshassetbalance)
    *   [Retrieve asset balanceget](/reference/getassetbalance)
    *   [Retrieve asset addressesget](/reference/getaddresses)
    *   [Retrieve supported assetsget](/reference/getsupportedassets)
*   [Non Custodial Wallet Devices](/reference/getdevices)
    *   [Get registered devicesget](/reference/getdevices)
    *   [Enable or Disable deviceput](/reference/enabledevice)
    *   [Get device key setup stateget](/reference/getdevicesetupstate)
*   [Non Custodial Wallets RPC](/reference/invokerpc)
    *   [Invoke RPCpost](/reference/invokerpc)

Fireblocks provides with the ability to verify ETH or BTC transactions before these are getting signed by the API Co-Signer.  
It is possible to configure your workspace to receive the raw data of the ETH or the BTC transaction as a part of the payload sent to the callback handler.

In this article we are going to cover how to verify Ethereum raw transactions.

## [ETH - Callback Handler Payload structure](#eth---callback-handler-payload-structure)

First, let’s take a look on the payload that is sent from the Co-Signer to the Callback handler (a detailed spec can be found in [here](/reference/transaction-signing-request-approval)):

<CodeGroup>
```json
{
  "txId": "9c794cee-7e27-46c9-9e9a-ed68295ff06b",
  "operation": "TRANSFER",
  "sourceType": "VAULT",
  "sourceId": "0",
  "destType": "VAULT",
  "destId": "1",
  "asset": "ETH",
  "amount": 0.01,
  "amountStr": "0.010000000000000000",
  "requestedAmount": 0.01,
  "requestedAmountStr": "0.01",
  "fee": "0.000597803762241000",
  "destAddressType": "WHITELISTED",
  "destAddress": "0x5dC69B1Fbb13Bafd09af88a782F0F285772Ad5f8",
  "destinations": [
    {
      "amountNative": 0.01,
      "amountNativeStr": "0.01",
      "amountUSD": 18.74292937,
      "dstAddressType": "WHITELISTED",
      "dstId": "1",
      "dstWalletId": "",
      "dstName": "Network Deposits",
      "dstSubType": "",
      "dstType": "VAULT",
      "displayDstAddress": "0x5dC69B1Fbb13Bafd09af88a782F0F285772Ad5f8",
      "action": "ALLOW",
      "actionInfo": {
        "capturedRuleNum": 5,
        "rulesSnapshotId": 8164,
        "byGlobalPolicy": false,
        "byRule": true,
        "capturedRule": "{\"type\":\"TRANSFER\",\"transactionType\":\"TRANSFER\",\"asset\":\"*\",\"amount\":0,\"operators\":{\"wildcard\":\"*\"},\"applyForApprove\":true,\"action\":\"ALLOW\",\"src\":{\"ids\":[[\"*\"]]},\"dst\":{\"ids\":[[\"*\"]]},\"dstAddressType\":\"*\",\"amountCurrency\":\"USD\",\"amountScope\":\"SINGLE_TX\",\"periodSec\":0}"
      }
    }
  ],
  "rawTx": [
    {
      "keyDerivationPath": "[ 44, 60, 0, 0, 0 ]",
      "rawTx": "02ef0104843b9aca008506a0c1987d825208945dc69b1fbb13bafd09af88a782f0f285772ad5f8872386f26fc1000080c0",
      "payload": "77b4e74099ce90c08503c0e0bb6e672dbe1c5e3e127ce333bf22eb581cd3f6ce"
    }
  ],
  "players": [
    "21926ecc-4a8a-4614-bbac-7c591aa7efdd",
    "27900737-46f6-4097-a169-d0ff45649ed5",
    "f89cac50-c656-4e74-879f-041aff8d01b5"
  ],
  "requestId": "9c794cee-7e27-46c9-9e9a-ed68295ff06b"
}

```
</CodeGroup>

The payload above contains a lot of information but we will be focusing only on some parts of it:

1.  Amount (`destinations[0].amountNative`)
2.  Destination Address (`destinations[0].displayDstAddress`)
3.  Raw Transaction array (`rawTx`)  
    RLP encoded payload (`rawTx.rawTx`)  
    The hash of the raw transaction (`rawTx.payload`)

Note that the RLP encoded payload (<button aria-label="Copy Code" class="rdmd-code-copy fa"></button><code class="rdmd-code lang- theme-light" data-lang="" name="" tabindex="0">rawTx.rawTx</code>) is the actual payload that you are signing on, or to be precise, the signature is done over the keccak256 hash of the RLP encoded payload, which is exactly the hash provided in the <button aria-label="Copy Code" class="rdmd-code-copy fa"></button><code class="rdmd-code lang- theme-light" data-lang="" name="" tabindex="0">rawTx.payload</code> property

## [Creating our callback application:](#creating-our-callback-application)

Before diving into the verification of the ETH transaction process, let’s start with spinning up our callback server. In this example I am going to use Express.js framework:

Install express:<br><button aria-label="Copy Code" class="rdmd-code-copy fa"></button><code class="rdmd-code lang- theme-light" data-lang="" name="" tabindex="0">npm i express</code>

We will also need some additional packages to be installed:<br><button aria-label="Copy Code" class="rdmd-code-copy fa"></button><code class="rdmd-code lang- theme-light" data-lang="" name="" tabindex="0">npm i jsonwebtoken fs body-parser @ethereumjs/tx</code>

Initiating the app:

<CodeGroup>
```js
const port = 8080;
const app = express();

```
</CodeGroup>

Let’s set our middleware (we are using body-parser here in order to access the raw body sent over to our POST endpoint that we will add shortly):

<CodeGroup>
```js
const bodyParser = require("body-parser");

const app = express();
app.use(bodyParser.urlencoded({ extended: true }));
app.use(bodyParser.json())
app.use( (req) => {
    req.rawBody = "";
    req.setEncoding("utf8");
    req.on("data", (chunk) => {
      req.rawBody += chunk;
    });
    req.on("end", () => {
      req.next();
    });
  }
);

```
</CodeGroup>

Defining our route for the <button aria-label="Copy Code" class="rdmd-code-copy fa"></button><code class="rdmd-code lang- theme-light" data-lang="" name="" tabindex="0">/v2/tx_sign_request</code> endpoint:

<CodeGroup>
```js
app.post("/v2/tx_sign_request", (req, res) => { 
	console.log("The raw body of the HTTP request:", req.rawBody)
}

```
</CodeGroup>

Now, let’s understand how exactly we get this rawBody of the HTTP request.  
In fact, Fireblocks API Co-Signer does not send this payload in clear text, there is some authentication process in place. This authentication process is done by performing mutual authentication using signed Json Web Tokens.  
You can find more information about the auth process here: <link\_to\_callback\_jwt\_auth>  
But just to cover it in a few words - each request from the Co-Signer to the callback carries a signed JWT in the request body signed with the private key of the Co-Signer application. Same goes for the response done by the callback to the Co-Signer - it should be signed by the callback private key.  
We assume that you have gone through the authentication setup article and you have the callback private + public keys and also the Co-Signer public key.

Loading the callback’s private key + the cosigner public key:

<CodeGroup>
```js
const fs = require("fs");

// Read the callback handler private key
const privateKey = fs.readFileSync("callback_private.pem");

// Read the cosigner public key (you can get it by running: ./cosigner print-public-key on the cosigner machine)
const cosignerPubKey = fs.readFileSync("cosigner_public.pem");

```
</CodeGroup>

In our example the raw body of the HTTP request will actually look like this:

```

```

*   Kindly note that the signature part of the JWT is obfuscated as a security best practice.

If you take this JWT and parse it in jwt.io - you’ll get the same clear text json payload as at the beginning of this guide.

## [JWT Verification](#jwt-verification)

So what should we do with this JWT? We need to verify it’s signature by using the Co-Signer public key and we need to decode it to JSON:

<CodeGroup>
```js
const jwt = require("jsonwebtoken");
const bodyParser = require("body-parser");

const app = express();
app.use(bodyParser.urlencoded({ extended: true }));
app.use(bodyParser.json())
app.use( (req) => {
    req.rawBody = "";
    req.setEncoding("utf8");
    req.on("data", (chunk) => {
      req.rawBody += chunk;
    });
    req.on("end", () => {
      req.next();
    });
  }
);

app.post("/v2/tx_sign_request", (req, res) => { 

	try {
		// jwt.verify returns the decoded payload on successful verification 
        const tx = jwt.verify(req.rawBody, cosignerPubKey);
    } catch(e) {
	    console.error(e)
        res.sendStatus(401).send();
    }
}

```
</CodeGroup>## [Building the ETH transaction object](#building-the-eth-transaction-object)

So now we have set the authentication and if the token is verified we can actually move on to the transaction validation part. Let define a new function validateETHTransaction. It will get the plain text payload and will build an ETH transaction object from the RLP encoded hex:

<CodeGroup>
```js
const { FeeMarketEIP1559Transaction } = require('@ethereumjs/tx');

const validateETHTransaction = (payload) => {

  try {
    // Decode RLP
    const unsignedTx = FeeMarketEIP1559Transaction.fromSerializedTx(
    Buffer.from(
      payload.rawTx[0].rawTx,
      "hex"
    ))  
  } catch(e) {
    console.log("Error:", e)
  }
  
}

```
</CodeGroup>

Basically, we are taking the RLP encoded hex and by using the 'FeeMarketEIP1559Transaction class from @ethereumjs/tx, we are building the transaction object.

If we will print the unsignedTx object, we’ll get:

<CodeGroup>
```json
{
  "chainId": "0x1",
  "nonce": "0x4",
  "maxPriorityFeePerGas": "0x4d4ea640",
  "maxFeePerGas": "0x7c4b19ac5",
  "gasLimit": "0x5208",
  "to": "0x5dc69b1fbb13bafd09af88a782f0f285772ad5f8",
  "value": "0x2386f26fc10000",
  "data": "0x",
  "accessList": []
}

```
</CodeGroup>## [Verifying the transaction parameters](#verifying-the-transaction-parameters)

So now we can actually check whether the destination and the amount in the decoded transaction match the JSON values of the payload:

<CodeGroup>
```js
const { FeeMarketEIP1559Transaction } = require('@ethereumjs/tx');

const validateETHTransaction = (payload) => {

  try {
    // Decode RLP
    const unsignedTx = FeeMarketEIP1559Transaction.fromSerializedTx(
      Buffer.from(
        payload.rawTx[0].rawTx,
        "hex"
      ))

    return (
      parseFloat(unsignedTx.value, 16) / 1e18 === payload.destinations[0].amountNative
      &&
      unsignedTx.to.toString("hex") === payload.destinations[0].displayDstAddress.toLowerCase()
    )

  } catch (e) {
    console.log("Error:", e)
  }

}

```
</CodeGroup>

*   Note that the address in the payload is in checksum format hence we need to lower case it

We can actually add one more check - verify that the hash of the unsignedTx matches the provided hash in the payload:

<CodeGroup>
```js
const { FeeMarketEIP1559Transaction } = require('@ethereumjs/tx');

const validateETHTransaction = (payload) => {

  try {
    // Decode RLP
    const unsignedTx = FeeMarketEIP1559Transaction.fromSerializedTx(
      Buffer.from(
        payload.rawTx[0].rawTx,
        "hex"
      ))

    return (
      parseFloat(unsignedTx.value, 16) / 1e18 === payload.destinations[0].amountNative
      &&
      unsignedTx.to.toString("hex") === payload.destinations[0].displayDstAddress.toLowerCase()
      &&
      unsignedTx.getMessageToSign(true).toString("hex") == providedHash
    )

  } catch (e) {
    console.log("Error:", e)
  }

}


```
</CodeGroup>

What do we do here? We are taking the hash from the payload provided by the Co-Signer and comparing it with the result of unsignedTx.getMessageToSign(true) which returns the hash of the unsigned transaction that should be signed.

## [Callback Handler response](#callback-handler-response)

The response from the callback should be in the following format (signed with RS256 algorithm by using the callback private key):

```

```

Let’s just add one more function (my personal preference) that will generate the signed response that should be sent from the callback handler:

<CodeGroup>
```js
const generateSignedResponse = (action) => {
    
    const signedRes = jwt.sign(
        action,
        privateKey,
        { algorithm: "RS256" }
    );

    return signedRes
}

```
</CodeGroup>## [All parts together](#all-parts-together)
<CodeGroup>
```js
const fs = require("fs");
const express = require("express");
const jwt = require("jsonwebtoken");
const bodyParser = require("body-parser");
const { FeeMarketEIP1559Transaction } = require('@ethereumjs/tx');

// Read the callback handler private key
const privateKey = fs.readFileSync("private.pem");

// Read the cosigner public key (you can get it by running: ./cosigner print-public-key on the cosigner machine)
const cosignerPubKey = fs.readFileSync("cosigner_public.pem");

// Start express app and set middleware 
const port = 8080; 
const app = express();

const app = express();
app.use(bodyParser.urlencoded({ extended: true }));
app.use(bodyParser.json())
app.use( (req) => {
    req.rawBody = "";
    req.setEncoding("utf8");
    req.on("data", (chunk) => {
      req.rawBody += chunk;
    });
    req.on("end", () => {
      req.next();
    });
  }
);

// Generate JWT response
const generateSignedResponse = (action) => {
    
    const signedRes = jwt.sign(
        action,
        privateKey,
        { algorithm: "RS256" }
    );
    
    return signedRes
}

// Verify that the params of the rawTx match the payload
const validateETHTransaction = (payload) => {

  try {
    // Decode RLP
    const unsignedTx = FeeMarketEIP1559Transaction.fromSerializedTx(
      Buffer.from(
        payload.rawTx[0].rawTx,
        "hex"
      ))

    return (
      parseFloat(unsignedTx.value, 16) / 1e18 === payload.destinations[0].amountNative
      &&
      unsignedTx.to.toString("hex") === payload.destinations[0].displayDstAddress.toLowerCase()
      &&
      unsignedTx.getMessageToSign(true).toString("hex") == providedHash
    )

  } catch (e) {
    console.log("Error:", e)
  }

}

// Tx Sign Request endpoint 
app.post("/v2/tx_sign_request", (req, res) => { 
    
    try {
        let response; 
        const tx = jwt.verify(req.rawBody, cosignerPubKey);
        if (validateETHTransaction(tx)) {
            response = generateSignedResponse({
                action: "APPROVE",
                requestId: tx.requestId
            })
       } else {
            response = generateSignedResponse({
                action: "REJECT",
                requestId: tx.requestId,
                rejectionReason: `Failed to validate ETH transaction`
           	})
       }
        
        res.status(200).send(response);
    
    } catch(e) {
        console.error(e)
        res.sendStatus(401).send();
    }
});

console.log(`Callback is running on http://localhost:${port}`)
app.listen(port);

```
</CodeGroup>